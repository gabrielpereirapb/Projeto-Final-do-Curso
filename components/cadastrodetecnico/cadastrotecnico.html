<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Técnico</title>
    <link rel="stylesheet" href="cadastrotecnico.css">
</head>
<body>
    <header class="interface1">
        <div>
            <img src="../../assets/Imagens/logo.png" alt="Logo" width="80px">
        </div>
        <nav class="menu">
            <ul>
                <li><a href="../home/home.html">PÁGINA INICIAL</a></li>
                <li><a href="../relatarproblema/relatarproblema.html">RELATAR PROBLEMA</a></li>
                <li><a href="../cadastrodetecnico/cadastrotecnico.html">CADASTRO DE TÉCNICO</a></li>
                <li><a href="../cadastrodemanutencao/cadastrodemanutentencao.html">CADASTRO DE MANUTENÇÃO</a></li>
                <li><a href="../históricodemanutencao/historicodemanutencao.html">HISTÓRICO DE MANUTENÇÃO</a></li>
                <li><a href="../chamados/chamados.html">CHAMADOS</a></li>
            </ul>
        </nav>
    </header>  

    <section class="topo-do-site">
        <h1>Cadastro de técnico</h1>
        <p>Cadastrar novo técnico</p>
    </section>

    <script>
        // Função para formatar o CPF (xxx.xxx.xxx-xx)
        function formatarCPF(cpf) {
            cpf.value = cpf.value
                .replace(/\D/g, '')             // Remove tudo que não for dígito
                .replace(/(\d{3})(\d)/, '$1.$2') // Coloca o ponto após o terceiro dígito
                .replace(/(\d{3})(\d)/, '$1.$2') // Coloca o ponto após o sexto dígito
                .replace(/(\d{3})(\d{1,2})/, '$1-$2') // Coloca o hífen após o nono dígito
                .replace(/(-\d{2})\d+?$/, '$1'); // Limita a entrada aos 11 dígitos do CPF
        }

        // Função para formatar o telefone (xx) xxxxx-xxxx
        function formatarTelefone(telefone) {
            telefone.value = telefone.value
                .replace(/\D/g, '')                // Remove tudo que não for dígito
                .replace(/(\d{2})(\d)/, '($1) $2') // Coloca os parênteses no código de área
                .replace(/(\d{5})(\d)/, '$1-$2')   // Coloca o hífen após os primeiros 5 dígitos
                .replace(/(-\d{4})\d+?$/, '$1');   // Limita a entrada ao formato (xx) xxxxx-xxxx
        }

        // Função para validar o formulário antes do envio
        function validarFormulario(event) {
            event.preventDefault(); // Previne o envio automático do formulário

            let nome = document.getElementById('nome').value.trim();
            let cpf = document.getElementById('cpf').value.trim();
            let telefone = document.getElementById('telefone').value.trim();

            // Verifica se todos os campos estão preenchidos
            if (nome === "" || cpf === "" || telefone === "") {
                alert("Por favor, preencha todos os campos obrigatórios.");
            } else {
                alert("Cadastro realizado com sucesso!");
                window.location.href = "../home/home.html"; // Redireciona para a página de confirmação
            }
        }

        window.onload = function() {
            // Adiciona o evento de submit ao formulário
            document.getElementById('cadastroForm').addEventListener('submit', validarFormulario);
        }
    </script>
</head>
<body>
    <section class="formulario">
        <form id="cadastroForm">
            <label for="nome">Nome:<span>*</span></label>
            <input type="text" id="nome" name="nome" placeholder="Nome completo" required>

            <label for="cpf">CPF:<span>*</span></label>
            <input type="text" id="cpf" name="cpf" placeholder="Insira seu CPF" required maxlength="14" oninput="formatarCPF(this)">

            <label for="telefone">Telefone:<span>*</span></label>
            <input type="text" id="telefone" name="telefone" placeholder="Insira seu telefone" required maxlength="15" oninput="formatarTelefone(this)">

            <p class="campos-obrigatorios">*Campos obrigatórios.</p>

            <div class="botoes">
                <button type="button" class="cancelar" onclick="window.location.href='../home/home.html'">Cancelar</button>
                <button type="submit" class="confirmar">Confirmar</button>
            </div>
        </form>
    </section>

    <footer>
        <div class="footer-rodapé">
            <div class="sobre">
                <h3>Sobre</h3>
                <p>Há mais de 65 anos. A tradição que não parou no tempo.</p>
            </div><!--footer-left-->

            <div class="redes-sociais">
                <i class="bi bi-instagram"></i>
                <i class="bi bi-whatsapp"></i>
            </div><!--redes-sociais-->

            <div class="informacoes">
                <h3>Informações de Contato</h3>
                <p>R. Nossa Sra. de Lourdes, 193 - <br> Jardim Tavares, Campina Grande - PB<br>58402-045<br>83 3182-3600</p>
            </div>
        </div>
    </footer>

        <script src="cadastrodetecnico.js"></script> 

        
    
</body>
</html>
